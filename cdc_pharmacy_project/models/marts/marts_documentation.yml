version: 2

models:
  - name: fact_utilization
    description: "The final fact table containing aggregated utilization metrics, joined with state information."
    columns:
      - name: state_code
        description: "The two-letter postal code for the US state (Foreign Key)."
        tests:
          - not_null
          - relationships:
              to: ref('dim_states')
              field: state_code
      - name: state_name
        description: "The full name of the state."
      - name: units_reimbursed
        description: "Total number of units of the drug reimbursed."
      - name: total_amount_reimbursed
        description: "Total amount reimbursed by Medicaid (Medicaid and Non-Medicaid)."

  - name: dim_states
    description: "A dimension model containing state codes and names for joining to utilization data."
    columns:
      - name: state_code
        description: "The unique two-letter postal code for the state."
        tests:
          - unique
          - not_null
      - name: state_name
        description: "The full name of the state."